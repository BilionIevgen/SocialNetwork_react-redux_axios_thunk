{"version":3,"sources":["components/common/Preloader/Preloader.module.css","components/common/Preloader/Preloader.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","utils/object-helpers/object-helper.js","api/axiosInstance.js","api/api.js","components/LoginPage/LoginPage.module.css","assets/images/Infinity-1s-200px.svg","components/common/FormControls/FormsControls.jsx","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","components/LoginPage/Captcha.jsx","components/LoginPage/LoginForm.jsx","components/LoginPage/LoginPage.jsx","redux/app-reducer.js","components/app/App.js","redux/navbar-reducer.js","redux/redux-store.js","index.js","components/Nav/Nav.module.css","utils/validators/validators.js","components/app/App.module.css","components/Header/Header.module.css","components/common/FormControls/FormsControls.module.css"],"names":["module","exports","Preloader","className","css","img_wrapper","preloader","src","alt","SET_USERS_PROFILE","SET_USERS_STATUS","SET_PHOTO","postiD","initialState","usersProfile","postData","id","likeCount","text","status","getProfileThunkCreator","dispatch","a","profileAPI","getProfile","data","setUsersProfile","setProfileInfo","usersData","getState","auth","setInfo","response","resultCode","stopSubmit","_error","messages","Promise","reject","savePhoto","file","sendPhoto","setPhotoToProfile","photos","getStatusThunkCreator","getStatus","setStatus","updateStatusThunkCreator","updateStatus","addPostActionCreator","type","photo","payload","profileReducer","state","action","ADD_MESS","messiD","dialogPage","dialogData","name","messagesData","mes","addMessActionCreator","dialogsReducer","users","pageSize","totalUsersCount","currentPage","isFetching","followInProgress","userId","pagePortion","followCase","isFollow","array","propertyInArray","whatToCompare","chengedPropertyObj","followed","map","item","getUsersThunkCreator","toggleIsFetchingAC","usersAPI","getUsers","changeCurrentPageAC","setUsersAC","items","setTotalUsersAC","totalCount","unfollowThCr","toggleFollowingProgress","followAPI","unFollow","unfollowAC","followThCr","followUser","followAC","page","totalUsers","user","usersReducer","instance","axios","create","withCredentials","baseURL","headers","size","get","then","delete","post","put","formData","FormData","append","authAPI","setMe","logIn","email","password","rememberMe","captcha","logOut","securityAPI","getCaptcha","url","FormControl","input","meta","props","hasError","touched","error","formControl","children","Textarea","restprops","Input","createField","component","Boolean","window","location","hostname","match","Header","header","headerButton","isAuthed","onClick","logOutThCr","to","style","marginLeft","href","rel","target","GET_CAPTCHA","login","captchaURL","authReducer","isAuth","setAuthedUserThCr","setAuthedUser","getCaptchaThCr","setCaptchaURL","HeaderContainer","this","React","Component","setDispatch","compose","connect","Nav","nav","activeClassName","active","useStyles","makeStyles","root","maxWidth","Captcha","classes","Card","CardActionArea","CardMedia","height","image","title","minLength2","minLength","maxLength15","maxLength","LoginForm","handleSubmit","onSubmit","validate","required","placeholder","display","marginRight","htmlFor","formSunmmaryError","LoginReduxForm","reduxForm","form","logInUserThCr","message","length","initialized","appReducer","initializedSuccess","DialogsContainer","lazy","Music","Settings","News","ProfileContainer","UsersContainer","App","initializeAppThCr","wrapColor","app_wrapper","content_wrapper","fallback","path","render","LoginPage","exact","app","promise","all","withRouter","navbarReducer","reducers","combineReducers","profilePage","navbarPage","usersPage","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","logger","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","value","undefined","max","min"],"mappings":"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","file":"static/js/main.cad9dd8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1rRrC\",\"img_wrapper\":\"Preloader_img_wrapper__1KAVC\"};","// @flow\r\nimport  React from 'react';\r\nimport css from './Preloader.module.css'\r\nimport preloader from '../../../assets/images/Infinity-1s-200px.svg'\r\n\r\n const Preloader =  ()=>{\r\n   \r\n    return(\r\n      <div className={css.img_wrapper}>\r\n        <img className={css.preloader} src={preloader} alt='preloader'/>\r\n      </div>\r\n    )\r\n }\r\n\r\n export default Preloader;","import { profileAPI } from \"../api/api\"\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USERS_PROFILE = '/profile_reducer/SET_USERS_PROFILE'\r\nconst SET_USERS_STATUS = '/profile_reducer/SET_USERS_STATUS'\r\nconst SET_PHOTO = '/profile_reducer/SET_PHOTO'\r\n\r\n\r\n\r\nlet postiD = 5;\r\nlet initialState = {\r\n    usersProfile: null,\r\n    postData: [\r\n        {id: 1,  likeCount: '10',  text: 'First post'},\r\n        {id: 2,  likeCount: '3',  text: 'Second post'},\r\n        {id: 3,  likeCount: '4',  text: 'Third post'},\r\n        {id: 4,  likeCount: '10',  text: 'Firth post'}\r\n    ],\r\n    status: ''\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState,action)=>{\r\n\r\n   switch(action.type){\r\n\r\n      case ADD_POST :\r\n        return {\r\n            ...state,\r\n            postData : [...state.postData,{id: postiD++,likeCount: '15',text: action.text}]\r\n         };\r\n\r\n      case SET_USERS_PROFILE:\r\n        return{\r\n          ...state,\r\n          usersProfile : action.usersProfile\r\n        }\r\n\r\n      case SET_USERS_STATUS:\r\n        return{\r\n          ...state,\r\n          status: action.status\r\n        }\r\n\r\n      case SET_PHOTO:\r\n        return{\r\n          ...state,\r\n          usersProfile: {...state.usersProfile, photos: action.payload}\r\n        }\r\n           \r\n\r\n          default: \r\n          return state;\r\n  }\r\n}\r\n\r\n// Thunk Creators:\r\nexport const getProfileThunkCreator = (id) =>async (dispatch)=>{\r\n  let data = await profileAPI.getProfile(id)\r\n  dispatch(setUsersProfile(data))              \r\n}\r\n\r\nexport const setProfileInfo = (usersData) =>async (dispatch,getState)=>{\r\n  let id = getState().auth.id\r\n  let response = await profileAPI.setInfo(usersData)\r\n  if(response.resultCode===0){dispatch(getProfileThunkCreator(id))}\r\n  else{\r\n    dispatch(stopSubmit('profile-form', {_error: response.messages[0]}))\r\n    return Promise.reject(response.messages[0])\r\n  }\r\n          \r\n}\r\n\r\nexport const savePhoto = (file) => {\r\n  \r\n  return async (dispatch)=>{\r\n    let data = await profileAPI.sendPhoto(file)\r\n    \r\n    dispatch(setPhotoToProfile(data.data.photos))              \r\n  }\r\n}\r\n\r\nexport const getStatusThunkCreator = (id) =>async (dispatch)=>{\r\n  let data = await profileAPI.getStatus(id)\r\n  dispatch(setStatus(data))             \r\n}\r\n\r\nexport const updateStatusThunkCreator = (status,id) => async (dispatch)=>{\r\n \r\n  let data = await profileAPI.updateStatus(status)\r\n  if(data.resultCode === 0){dispatch(getStatusThunkCreator(id))}\r\n\r\n}\r\n\r\n// Action Creators:\r\nexport const addPostActionCreator = (text)=>({ type : ADD_POST,text});\r\n\r\nexport const setUsersProfile = (usersProfile)=>({type:SET_USERS_PROFILE,usersProfile})\r\nexport const setStatus = (status) => ({type:SET_USERS_STATUS,status})\r\n\r\nexport const setPhotoToProfile = (photo)=>({\r\n  type: SET_PHOTO,\r\n  payload: photo\r\n})\r\n\r\n\r\nexport default profileReducer","const ADD_MESS = '/dialogs/ADD-MESS';\r\n\r\nlet messiD = 7;\r\n\r\nlet dialogPage =  {\r\n    dialogData: [\r\n        {id: 1,name: 'Dima'},\r\n        {id: 2,name: 'Katia'},\r\n        {id: 3,name: 'Oleg'},\r\n        {id: 4,name: 'Serega'},\r\n        {id: 5,name: 'Sveta'},\r\n        {id: 6,name: 'Igor'}\r\n    ],\r\n    messagesData: [\r\n        {id: 1, mes: '1w'},\r\n        {id: 2, mes: '2w'},\r\n        {id: 3, mes: '3w'},\r\n        {id: 4, mes: '4w'},\r\n        {id: 5, mes: '5w'},\r\n        {id: 6, mes: '6w'}\r\n    ]\r\n}\r\n\r\nexport const dialogsReducer = (state = dialogPage,action)=>{\r\n   switch(action.type){\r\n\r\n      case ADD_MESS :\r\n          return {\r\n            ...state,\r\n            messagesData : [...state.messagesData, { id: messiD++, mes: action.text}]\r\n          };\r\n\r\n          default: \r\n          return state;\r\n  }\r\n}\r\nexport let addMessActionCreator = (text)=>({type:ADD_MESS, text});\r\n\r\n\r\nexport default dialogsReducer","import {\r\n   usersAPI,\r\n   followAPI\r\n} from \"../api/api\"\r\nimport {updateObjectInArray} from '../utils/object-helpers/object-helper'\r\n\r\nconst FOLLOW = '/api/FOLLOW'\r\nconst UNFOLLOW = '/api/UNFOLLOW'\r\nconst SET_USERS = '/api/SET_USERS'\r\nconst SET_TOTAL_USERS = '/api/SET_TOTAL_USERS'\r\nconst CHANGE_CURRENT_PAGE = '/api/CHANGE_CURRENT_PAGE'\r\nconst TOGGLE_IS_FETCHING = '/api/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = '/api/TOGGLE_IS_FOLLOWING_PROGRESS'\r\nlet initialState = {\r\n   users: [],\r\n   pageSize: 5, //берем хардкодим ,сколько пользователей показывать\r\n   totalUsersCount: 17,\r\n   currentPage: 1, // получаем с сервера\r\n   isFetching: false, // при отправке запроса для крутилки\r\n   followInProgress: [], //для кнопки follow/unfollow\r\n   userId: null,\r\n   pagePortion: 1\r\n\r\n}\r\n\r\nconst followCase = (state, action, isFollow) => {\r\n   return {\r\n      ...state,\r\n      users: updateObjectInArray(state.users, 'id', action.userId, {followed: isFollow})\r\n      \r\n   }\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n\r\n      case FOLLOW:\r\n         return followCase(state, action, true)\r\n\r\n\r\n      case UNFOLLOW:\r\n         return followCase(state, action, false)\r\n\r\n      case SET_USERS: {\r\n         return {\r\n            ...state,\r\n            users: [...action.users],\r\n            pagePortion: action.pagePortion,\r\n\r\n         }\r\n      }\r\n      case CHANGE_CURRENT_PAGE:\r\n\r\n         return {\r\n            ...state,\r\n            currentPage: action.currentPage\r\n         }\r\n\r\n         case SET_TOTAL_USERS:\r\n            return {\r\n               ...state,\r\n               totalUsersCount: action.totalUsers\r\n            }\r\n\r\n            case TOGGLE_IS_FETCHING:\r\n               return {\r\n                  ...state,\r\n                  isFetching: action.isFetching\r\n               }\r\n\r\n               case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n                  return {\r\n                     ...state,\r\n                     userId: action.userId\r\n                  }\r\n\r\n                  default:\r\n                     return state\r\n   }\r\n\r\n}\r\n\r\n\r\n// Thunk creators:\r\nexport const getUsersThunkCreator = (currentPage, pageSize, pagePortion) => async (dispatch) => {\r\n   dispatch(toggleIsFetchingAC(true))\r\n   let data = await usersAPI.getUsers(currentPage, pageSize)\r\n   dispatch(toggleIsFetchingAC(false))\r\n   dispatch(changeCurrentPageAC(currentPage))\r\n   dispatch(setUsersAC(data.items, pagePortion))\r\n   dispatch(setTotalUsersAC(data.totalCount))\r\n}\r\n\r\nexport const unfollowThCr = (id) => async (dispatch) => {\r\n   dispatch(toggleFollowingProgress(id))\r\n   let data = await followAPI.unFollow(id)\r\n\r\n   if (data.resultCode === 0) {\r\n      dispatch(unfollowAC(id))\r\n   }\r\n   dispatch(toggleFollowingProgress('null'))\r\n}\r\n\r\nexport const followThCr = (id) => async (dispatch) => {\r\n   dispatch(toggleFollowingProgress(id))\r\n   let data = await followAPI.followUser(id)\r\n\r\n   if (data.resultCode === 0) {\r\n      dispatch(followAC(id))\r\n   }\r\n   dispatch(toggleFollowingProgress('null'))\r\n\r\n}\r\n\r\n// Action Creators:\r\nexport const changeCurrentPageAC = (page) => {\r\n\r\n   return {\r\n      type: CHANGE_CURRENT_PAGE,\r\n      currentPage: page\r\n   }\r\n};\r\n\r\nexport const followAC = (userId) => ({\r\n   type: FOLLOW,\r\n   userId\r\n});\r\n\r\nexport const unfollowAC = (userId) => ({\r\n   type: UNFOLLOW,\r\n   userId\r\n});\r\n\r\nexport const setTotalUsersAC = (totalUsers) => ({\r\n   type: SET_TOTAL_USERS,\r\n   totalUsers\r\n});\r\n\r\nexport const setUsersAC = (user, pagePortion) => ({\r\n   type: SET_USERS,\r\n   users: [...user],\r\n   pagePortion\r\n});\r\n\r\nexport const toggleIsFetchingAC = (isFetching) => ({\r\n   type: TOGGLE_IS_FETCHING,\r\n   isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (userId) => ({\r\n   type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n   userId\r\n});\r\n\r\nexport default usersReducer","export const updateObjectInArray = (array,propertyInArray,whatToCompare,chengedPropertyObj) =>{\r\n   return array.map(item => {\r\n      if(item[propertyInArray] === whatToCompare){\r\n         return {...item,...chengedPropertyObj}\r\n      }\r\n      return item\r\n   })\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport  const instance = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      \"API-KEY\": \"3eb5539c-b976-4100-a0aa-ad516655059d\",\r\n   }\r\n})","import {instance} from \"./axiosInstance\"\r\n\r\nexport const usersAPI = {\r\n   getUsers (page = 1, size = 5)  {\r\n      return instance\r\n         .get(`users?page=${page}&count=${size}`)\r\n         .then(response => response.data)\r\n   }\r\n}\r\n\r\nexport const followAPI ={\r\n   unFollow  (id)  {\r\n      return instance\r\n         .delete(`follow/${id}`)\r\n         .then(response => response.data)\r\n   },\r\n   \r\n   \r\n    followUser (id) {\r\n      return instance\r\n         .post(`follow/${id}`, {})\r\n         .then(response => response.data)\r\n   }\r\n}\r\n\r\nexport const profileAPI = {\r\n   setInfo(data){\r\n      return instance.put(`profile`,data)\r\n      .then(response => response.data)\r\n   },\r\n\r\n   getProfile (id) {\r\n   return instance\r\n      .get(`profile/${id}`)\r\n      .then(response => response.data)\r\n   },\r\n\r\n   sendPhoto(photo){  \r\n      \r\n      const formData = new FormData();\r\n      formData.append('image',photo)\r\n\r\n      return instance.put('profile/photo',formData,{\r\n         headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      .then(response => response.data)  \r\n   },\r\n\r\n   getStatus (id){\r\n      return  instance\r\n      .get(`profile/status/${id}`)\r\n      .then(response => response.data)\r\n   },\r\n\r\n   updateStatus(status){\r\n      return  instance\r\n      .put(`profile/status`,{ \r\n         status : status\r\n      })\r\n      .then(response => {\r\n         \r\n         return response.data})\r\n   }\r\n\r\n} \r\n\r\nexport const authAPI = {\r\n   setMe  () {\r\n      return instance.get(`auth/me`).then(response => {\r\n         \r\n         return response.data})\r\n   },\r\n\r\n   logIn(email,password,rememberMe = false,captcha=null){\r\n      \r\n      return instance.post('auth/login',{\r\n         \r\n         email,\r\n         password,\r\n         rememberMe,\r\n         captcha\r\n      }).then(response => {\r\n         \r\n         return response.data})\r\n   },\r\n   \r\n   logOut(){\r\n      return instance.post('auth/logout',{\r\n         \r\n      }).then(response => {\r\n         \r\n         return response.data})\r\n   },\r\n   \r\n}\r\n\r\nexport const securityAPI = {\r\n   getCaptcha(){\r\n      return instance.get('security/get-captcha-url')\r\n      .then(response=>response.data.url)\r\n   }\r\n}\r\n\r\n// security/get-captcha-url\r\n// REQUEST\r\n// type: get\r\n\r\n// RESPONSE\r\n// json object\r\n\r\n\r\n// properties:\r\n// url: url to display captcha-image\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSunmmaryError\":\"LoginPage_formSunmmaryError__1K3aF\"};","module.exports = __webpack_public_path__ + \"static/media/Infinity-1s-200px.5bc20434.svg\";","import React from \"react\";\r\nimport css from \"./FormsControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl= ({ input, meta, ...props}) => {\r\n\r\n   const hasError = meta.touched && meta.error;\r\n   return (\r\n     <div className={`${css.formControl} ${hasError ? css.error : null}`}>\r\n       {hasError ? <span>{meta.error}</span> : null}\r\n       <div>\r\n         {props.children}\r\n       </div>\r\n     </div>\r\n   );\r\n   \r\n };\r\n\r\n\r\nexport const Textarea = (props) => {\r\n   const { input, meta, ...restprops } = props\r\n  return (\r\n   <FormControl {...props}>\r\n      <textarea {...restprops} {...input}/>\r\n   </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n   const { input, meta, ...restprops } = props\r\n  return (\r\n   <FormControl {...props}>\r\n      <input {...restprops} {...input}/>\r\n   </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField =(className,type,name,component,props = {})=>{\r\n  return <div className=\"form-group\">\r\n          <Field\r\n            className={className}\r\n            type={type}\r\n            name={name}\r\n            component={component}\r\n            {...props}\r\n          />\r\n          </div>\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport css from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst Header = (props) => {\r\n   const logOut = ()=>{\r\n      props.logOutThCr()\r\n   }\r\n   return  ( \r\n      \r\n   <header className={`${css.header} `}>\r\n      <img className={`rounded-circle`} src=\"https://aer.eu/wp-content/uploads/2017/06/twitter-logo-4.png\" alt=\"\"/>\r\n      <div className={css.headerButton}>\r\n         {props.auth.isAuthed   \r\n         ? \r\n         <button onClick={logOut} className={`btn btn-primary`}>Log Out</button>  \r\n         : \r\n         <>\r\n         <NavLink to='/login'><button className={`btn btn-primary`}> Log In </button></NavLink>\r\n         \r\n         <a style={{marginLeft:'5px'}} href='https://social-network.samuraijs.com/' rel=\"noopener noreferrer\" target='_blank'><button className={`btn btn-primary `}> Register</button></a>\r\n         </>\r\n         }\r\n      </div>\r\n   </header>)\r\n}\r\n\r\nexport default Header;","import {\r\n   authAPI, securityAPI\r\n} from \"../api/api\"\r\nimport { stopSubmit } from \"redux-form\"\r\n\r\nconst SET_AUTHED_USER = '/auth-reducer/SET_AUTHED_USER' \r\nconst GET_CAPTCHA = '/auth-reducer/GET_CAPTCHA' \r\n\r\nlet initialState = {\r\n   id: null,\r\n   email: null,\r\n   login: null,\r\n   isAuthed: false,\r\n   captchaURL:''\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n\r\n      case SET_AUTHED_USER:\r\n         return {\r\n            ...state,\r\n            ...action.payload,\r\n               isAuthed: action.payload.isAuth\r\n         }\r\n\r\n      case GET_CAPTCHA:\r\n         return {\r\n            ...state,\r\n            captchaURL: action.payload\r\n         }\r\n\r\n         default:\r\n            return state\r\n   }\r\n\r\n}\r\nexport default authReducer;\r\n\r\n\r\n// Thunk Creator\r\nexport const setAuthedUserThCr = () => async (dispatch) => {\r\n  \r\n   let response = await authAPI.setMe()\r\n      \r\n   if (response.resultCode === 0) {\r\n            const {id,email,login} = response.data\r\n            dispatch(setAuthedUser(id, email, login, true))\r\n         }     \r\n}\r\n\r\nexport const logInUserThCr = (email, password, rememberMe, captcha) =>async (dispatch) => {\r\n   await authAPI.getCaptcha()\r\n\r\n   let response = await authAPI.logIn(email, password, rememberMe, captcha)\r\n      \r\n   if (response.resultCode === 0) {\r\n      dispatch(setAuthedUserThCr())\r\n   }\r\n   \r\n   else{\r\n      if (response.resultCode === 10) {\r\n         dispatch(getCaptchaThCr())\r\n      }\r\n      let message = response.messages.length > 0 ? response.messages[0] : 'Some error'\r\n      dispatch(stopSubmit(\"login\",{_error: message}))\r\n   }\r\n}\r\n\r\nexport const logOutThCr = () => async (dispatch) => {\r\n   let response = await authAPI.logOut()\r\n      \r\n   if (response.resultCode === 0) {\r\n      dispatch(setAuthedUser(null, null, null, false))\r\n   }\r\n      \r\n}\r\n\r\nexport const getCaptchaThCr = () =>async (dispatch)=>{\r\n   const captchaURL = await securityAPI.getCaptcha()\r\n   dispatch(setCaptchaURL(captchaURL))\r\n}\r\n\r\n// Action Creators\r\nexport const setAuthedUser = (id, email, login, isAuth) => ({\r\n   type: SET_AUTHED_USER,\r\n   payload: {\r\n      id,\r\n      email,\r\n      login,\r\n      isAuth\r\n   }\r\n});\r\n\r\nexport const setCaptchaURL = (url) =>  ({type:GET_CAPTCHA, payload: url})\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logOutThCr } from '../../redux/auth-reducer';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n   \r\n   render(){\r\n      return <Header {...this.props} />\r\n   }\r\n}\r\nlet mapStateToProps = (state)=>({\r\n   auth: state.auth\r\n})\r\n\r\nlet setDispatch ={\r\n   logOutThCr\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n   connect(mapStateToProps,setDispatch))\r\n   (HeaderContainer)","import React from \"react\";\r\nimport css from \"./Nav.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav className={css.nav}>\r\n      <div> \r\n        <NavLink activeClassName={css.active} to=\"/profile\">\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink activeClassName={css.active} to=\"/dialogs\">\r\n          Dialogs\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink activeClassName={css.active} to=\"/users\">\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink activeClassName={css.active} to=\"/news\">\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink activeClassName={css.active} to=\"/music\">\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink activeClassName={css.active} to=\"/settings\">\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n \r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n});\r\n\r\nexport default function Captcha({url}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"Contemplative Reptile\"\r\n          height=\"140\"\r\n          image={url}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardMedia>\r\n            <img src={url} alt=\"recipe thumbnail\"/>\r\n         </CardMedia>\r\n        \r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import React from \"react\";\r\nimport {\r\n  required,\r\n  minLength,\r\n  maxLength,\r\n} from \"../../utils/validators/validators\";\r\nimport { Input, createField } from \"../common/FormControls/FormsControls\";\r\nimport css from './LoginPage.module.css'\r\nimport Captcha from \"./Captcha\";\r\n\r\nconst minLength2 = minLength(2);\r\nconst maxLength15 = maxLength(15);\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n  const { handleSubmit, captcha } = props;\r\n  \r\n  return (\r\n    // отменяем действие сабмита\r\n    <form onSubmit={handleSubmit}>\r\n      <div>      \r\n        {createField(\"form-control\",\"text\",\"login\",Input,{validate : [required, minLength2],placeholder: \"Email\" })} \r\n        {createField(\"form-control\",\"password\",\"password\",Input,{validate : [required, minLength2, maxLength15],placeholder: \"Password\" })}\r\n        \r\n        <div style={{ display: \"inline-block\", marginRight: \"10px\" }}> \r\n            {createField(\"form-check-label\",\"checkbox\",\"rememberMe\",Input,{id : \"exampleCheck1\"})}   \r\n        </div>\r\n\r\n        <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">\r\n          Remember Me\r\n        </label>\r\n        \r\n      </div>\r\n      {captcha && <Captcha url = {captcha}/>}\r\n      {captcha && createField(\"form-control\",\"captcha\",\"captcha\",Input,{validate : [required],placeholder: \"Captcha\" })}\r\n      {props.error \r\n      ? \r\n      <div className={css.formSunmmaryError}>\r\n            {props.error}\r\n      </div>\r\n      : null }\r\n      \r\n      <div>\r\n        <button className=\"btn btn-primary\">Login</button>{\" \"}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default LoginForm","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nimport { logInUserThCr } from \"../../redux/auth-reducer\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique identifier for this form\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst LoginPage = (props) => {\r\n\r\n  const onSubmit = ({ login, password, rememberMe }) => {\r\n    props.logInUserThCr(login, password, rememberMe);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.isAuth === true ? (\r\n        <Redirect to=\"/profile\" />\r\n      ) : (\r\n        <>\r\n          <h1>Login</h1>\r\n          <LoginReduxForm captcha = {props.captchaURL} onSubmit={onSubmit} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  isAuth: state.auth.isAuthed,\r\n  captchaURL : state.auth.captchaURL\r\n})\r\n\r\nexport default connect(mapState, { logInUserThCr })(LoginPage);\r\n","import { setAuthedUserThCr } from \"./auth-reducer\"\r\n\r\n\r\nconst INITIALIZE_SUCCESS = '/auth-reducer/INITIALIZE_SUCCESS'\r\n\r\nlet initialState = {\r\n   initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case INITIALIZE_SUCCESS:\r\n         return {\r\n            ...state,\r\n            initialized: true\r\n         }\r\n\r\n         default:\r\n            return state\r\n   }\r\n}\r\n\r\nexport default appReducer;\r\n\r\n// Thunk Creators\r\n\r\nexport const initializeAppThCr = () => (dispatch)=>{\r\n   let promise = dispatch(setAuthedUserThCr())\r\n   Promise.all([promise]).then(()=>{\r\n      dispatch(initializedSuccess())\r\n   })\r\n}\r\n\r\n\r\n// Action Creators\r\nexport const initializedSuccess = () => ({type: INITIALIZE_SUCCESS});\r\n","import React, { Suspense, lazy } from 'react';\r\nimport { Route, withRouter} from \"react-router-dom\";\r\n\r\nimport css from './App.module.css';\r\nimport HeaderComponent from '../Header/HeaderContainer';\r\nimport Nav from '../Nav/Nav';\r\nimport LoginPage from '../LoginPage/LoginPage';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { initializeAppThCr } from '../../redux/app-reducer';\r\n\r\nconst DialogsContainer = lazy(() => import(  '../Dialogs/Dialogs-container'));\r\nconst Music = lazy(() => import(  '../Music/Music'));\r\nconst Settings = lazy(() => import(  '../Settings/Settings'));\r\nconst News = lazy(() => import( '../News/News'));\r\nconst ProfileContainer = lazy(() => import(  '../Profile/ProfileContainer'));\r\nconst UsersContainer = lazy(() => import(  '../Users/Users-container'));\r\n\r\n\r\n\r\n\r\n\r\nclass App  extends React.Component {\r\n  \r\n    componentDidMount(){\r\n      this.props.initializeAppThCr()\r\n    }\r\n\r\n    render(){\r\n      return (this.props.initialized === true ? (\r\n        <div className={`${css.wrapColor} d-flex align-items-stretch`}>\r\n          <div className={`container`}>\r\n            <HeaderComponent/>\r\n            <div className={css.app_wrapper}>\r\n              <Nav/>\r\n              <div className={`${css.content_wrapper}`}>\r\n                \r\n                  <Suspense fallback={<div>Загрузка...</div>}>\r\n                    \r\n                      <Route path='/dialogs' render={()=> <DialogsContainer/>}/>\r\n                      <Route path='/profile/:userId?' render={()=>   <ProfileContainer/>}/>\r\n                      <Route path='/users' render={()=> <UsersContainer/>}/>\r\n                      <Route path='/news' component={News}/>\r\n                      <Route path='/music' component={Music}/>\r\n                      <Route path='/settings' component={Settings}/>\r\n                      <Route path='/login' component={LoginPage}/>\r\n                      <Route exact path='/' component={ProfileContainer}/>\r\n                    \r\n                  </Suspense>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) :\r\n       (<Preloader/>) )\r\n    }\r\n      \r\n       \r\n    \r\n};\r\n\r\nconst mapStateToProps =(state)=>{\r\n  return{\r\n    initialized : state.app.initialized\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,{initializeAppThCr}),\r\n  withRouter)(App)\r\n\r\n\r\n\r\n","\r\nconst navbarReducer = (state = {},action)=>{\r\n\r\n   return state;\r\n}\r\nexport default navbarReducer","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navbarReducer from \"./navbar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\nimport logger from 'redux-logger'\r\n\r\n\r\n//create like state in store\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    navbarPage: navbarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers(\r\n    applyMiddleware(thunkMiddleWare,logger)\r\n  ));\r\n\r\n\r\nexport default store;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/app/App';\nimport {HashRouter} from \"react-router-dom\";\n\nimport store from \"./redux/redux-store\";\nimport { Provider } from 'react-redux';\n\n\n\n    ReactDOM.render(\n    <HashRouter >\n        <Provider store={store}>\n            <App />   \n        </Provider>       \n    </HashRouter>, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3IfiA\",\"active\":\"Nav_active__1c4C9\"};","export const required = value => (value  ? undefined : 'Required at least 2 letters')\r\n\r\nexport const maxLength = max => value =>\r\n  value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n\r\nexport const minLength = min => value =>\r\n  value && value.length < min ? `Must be ${min} characters or more` : undefined\r\n\r\nexport const number = value =>\r\n  value && isNaN(Number(value)) ? 'Must be a number' : undefined\r\n\r\nexport const minValue = min => value =>\r\n  value && value < min ? `Must be at least ${min}` : undefined\r\n\r\nexport const email = value =>\r\n  value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\r\n    ? 'Invalid email address'\r\n    : undefined\r\n\r\nexport const tooYoung = value =>\r\n  value && value < 13\r\n    ? 'You do not meet the minimum age requirement!'\r\n    : undefined\r\n\r\nexport const aol = value =>\r\n  value && /.+@aol\\.com/.test(value)\r\n    ? 'Really? You still use AOL for your email?'\r\n    : undefined\r\n\r\nexport const alphaNumeric = value =>\r\n  value && /[^a-zA-Z0-9 ]/i.test(value)\r\n    ? 'Only alphanumeric characters'\r\n    : undefined\r\n\r\nexport const phoneNumber = value =>\r\n  value && !/^(0|[1-9][0-9]{9})$/i.test(value)\r\n    ? 'Invalid phone number, must be 10 digits'\r\n    : undefined\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__2FqrK\",\"wrapColor\":\"App_wrapColor__2gSUu\",\"content_wrapper\":\"App_content_wrapper__1_VTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__GoBCC\",\"headerButton\":\"Header_headerButton__AJCeD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__lN1gl\",\"error\":\"FormsControls_error__1gMYU\",\"formSunmmaryError\":\"FormsControls_formSunmmaryError__3Yrx1\"};"],"sourceRoot":""}