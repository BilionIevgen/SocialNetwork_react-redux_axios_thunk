{"version":3,"sources":["assets/images/1551511784_4.jpg","components/Users/User/User.module.css","components/common/Paginator/Paginator.module.css","components/Users/User/User.jsx","components/common/Paginator/Pagenator.jsx","components/Users/Users.jsx","redux/selectors.js","components/Users/Users-container.jsx"],"names":["module","exports","User","props","className","css","wrapper","to","id","avatar","src","url","small","userPhoto","alt","isAutorised","isFollowed","disabled","userId","onClick","unfollowThCr","followThCr","user_info","user_name","name","status","Paginator","totalItemsCount","pageSize","currentPage","changeCurrentPage","portionSize","pagePortion","pagesCount","Math","ceil","pages","setCss","i","selected","page","portionCount","useState","portionNumber","setPortionNumber","useEffect","leftPortionPageNumber","rightPortionPageNumber","push","pages_wrapper","icon","faArrowAltCircleLeft","filter","p","map","key","faArrowAltCircleRight","Users","users","user","followingProgress","photos","location","followed","totalUsersCount","getUsersSelector","createSelector","state","usersPage","getPortion","getPageSize","getFollowingProgress","getIsAuthedState","auth","isAuthed","getTotalUsersCount","getCurrentPage","getIsFetchingState","isFetching","getUserId","UsersContainer","changeCurPage","getUsersThunkCreator","this","Preloader","React","Component","mapDispatchToProps","compose","connect"],"mappings":"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","file":"static/js/7.9abc39e7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1551511784_4.aec17f7e.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__1irc-\",\"avatar\":\"User_avatar__3dAKm\",\"user_info\":\"User_user_info__1uZ25\",\"user_name\":\"User_user_name__105ai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages_wrapper\":\"Paginator_pages_wrapper__237B1\",\"selected\":\"Paginator_selected__3N1MI\",\"page\":\"Paginator_page__3uBrt\",\"icon\":\"Paginator_icon__1AITQ\"};","import React from \"react\";\r\nimport css from \"./User.module.css\";\r\nimport userPhoto from '../../../assets/images/1551511784_4.jpg'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\n       \r\nconst User = props => {\r\n \r\n  return (\r\n    <div className={css.wrapper}>\r\n    \r\n      <div>\r\n\r\n        <NavLink to={`/profile/${props.id}`}>\r\n          <img className={css.avatar} src={props.url.small != null ? props.url.small : userPhoto} alt='avatar'/>\r\n        </NavLink>\r\n        \r\n        {props.isAutorised ? props.isFollowed \r\n        ?\r\n          <button  disabled={props.userId === props.id} className='btn btn-info'  \r\n            onClick={()=>{\r\n              props.unfollowThCr(props.id)\r\n            }}>Unsubscribe</button> \r\n        :\r\n          <button  disabled={props.userId === props.id} className='btn btn-info' \r\n            onClick={()=>{\r\n                props.followThCr(props.id)\r\n              }}>Subscribe</button>\r\n              :\r\n              null}\r\n      </div>\r\n\r\n      <div className={css.user_info}>\r\n\r\n        <div className={css.user_name}>\r\n          <div>{props.name}</div>\r\n          <div>{props.status}</div>\r\n        </div>\r\n\r\n        {/* <div>\r\n          <div>{props.location.city}</div>,\r\n          <div>{props.location.country}</div>\r\n        </div> */}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;","// @flow\r\nimport  React, { useState, useEffect } from 'react';\r\nimport css from './Paginator.module.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowAltCircleLeft , faArrowAltCircleRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Paginator = ({totalItemsCount,pageSize,currentPage,changeCurrentPage,portionSize=10, pagePortion = 1}) =>{\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n\r\n  let setCss = (i)=>{\r\n    return `${currentPage === i ? css.selected : css.page}` \r\n  }\r\n\r\n\r\n  // portion of pages\r\n  let portionCount = Math.ceil(pagesCount/portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setPortionNumber(pagePortion)\r\n  }, [pagePortion])\r\n\r\n  let leftPortionPageNumber = (portionNumber - 1) *  portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber *  portionSize ;\r\n  \r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return(\r\n    <div className={css.pages_wrapper}>\r\n      {portionNumber === 1 ? null : \r\n      <FontAwesomeIcon onClick={()=>{setPortionNumber(portionNumber - 1 )}} className={css.icon} icon={faArrowAltCircleLeft} />}\r\n      \r\n        {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(i => {\r\n          return(  \r\n            <span\r\n                key = {i}\r\n                onClick={() => { \r\n                  changeCurrentPage(i, portionNumber);  \r\n                }}\r\n                className={setCss(i)}\r\n              >\r\n                {i}\r\n            </span>\r\n          )\r\n        })}\r\n\r\n        {portionCount === portionNumber ? null : \r\n        <FontAwesomeIcon onClick={()=>{\r\n          setPortionNumber(portionNumber + 1 )}} className={css.icon} icon={faArrowAltCircleRight} />}\r\n       \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../common/Paginator/Pagenator\";\r\n\r\n\r\nconst Users = props => {\r\n\r\n  \r\n  \r\n  return (\r\n    <div>\r\n      {props.users.map(user => (\r\n        <User\r\n          unfollowThCr={props.unfollowThCr}\r\n          followThCr={props.followThCr}\r\n          \r\n          followingProgress={props.followingProgress}\r\n          isAutorised = {props.isAutorised}\r\n          url={user.photos}\r\n          key={user.id}\r\n          id={user.id}\r\n          name={user.name}\r\n          status={user.status}\r\n          location={user.location}\r\n          isFollowed={user.followed}\r\n          userId = {props.userId}\r\n          changeCurrentPage={props.changeCurrentPage}\r\n        />\r\n      ))}\r\n      \r\n      <Paginator \r\n      totalItemsCount={props.totalUsersCount}\r\n      pageSize={props.pageSize}\r\n      currentPage={props.currentPage}\r\n      changeCurrentPage={props.changeCurrentPage}\r\n      portionSize={8}\r\n      pagePortion={props.pagePortion}\r\n      />\r\n        \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsers = (state)=>{\r\n   return state.usersPage.users\r\n};\r\n\r\n// this is example of using reselect library:\r\nexport const getUsersSelector = createSelector(getUsers,(users)=>{\r\n   return users\r\n})\r\n\r\nexport const getPortion = (state)=>{\r\n\r\n   return state.usersPage.pagePortion\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize\r\n};\r\n\r\nexport const getFollowingProgress = (state) => {\r\n   return state.usersPage.followingProgress\r\n};\r\n\r\nexport const getIsAuthedState = (state) => {\r\n   return state.auth.isAuthed\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetchingState = (state) => {\r\n   return state.usersPage.isFetching\r\n};\r\n\r\nexport const getUserId = (state) => {\r\n   return state.usersPage.userId\r\n}\r\n   \r\n\r\n\r\n","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport { connect } from \"react-redux\";\r\nimport { \r\n  getUsersThunkCreator,\r\n  unfollowThCr,\r\n  followThCr,\r\n} from \"../../redux/users-reducer\";\r\n\r\n\r\nimport { compose } from \"redux\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { getUsersSelector, getPageSize, getIsAuthedState, getFollowingProgress, getTotalUsersCount, getIsFetchingState, getUserId, getCurrentPage, getPortion } from \"../../redux/selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator(\r\n      this.props.currentPage,\r\n      this.props.pageSize\r\n    );\r\n  }\r\n\r\n  changeCurPage = (i,pagePortion) => {\r\n    this.props.getUsersThunkCreator(i, this.props.pageSize, pagePortion);\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        \r\n        {this.props.isFetching? \r\n        <Preloader/>\r\n        : \r\n        <Users\r\n        unfollowThCr={this.props.unfollowThCr}\r\n        followThCr={this.props.followThCr}\r\n        followingProgress={this.props.followingProgress}\r\n        isAutorised={this.props.isAutorised}\r\n        currentPage={this.props.currentPage}\r\n        changeCurrentPage={this.changeCurPage}\r\n        users={this.props.users}\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        userId={this.props.userId}\r\n        pagePortion={this.props.pagePortion}\r\n        \r\n      />}\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// imported from selectors\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    followingProgress: getFollowingProgress(state),\r\n    isAutorised: getIsAuthedState(state),\r\n    users: getUsersSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetchingState(state),\r\n    userId: getUserId(state),\r\n    pagePortion: getPortion(state)\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = {\r\n  unfollowThCr,\r\n  followThCr,\r\n  getUsersThunkCreator,\r\n};\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(UsersContainer)\r\n \r\n"],"sourceRoot":""}