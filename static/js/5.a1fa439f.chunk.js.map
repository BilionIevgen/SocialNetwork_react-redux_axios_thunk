{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/WithAuthRedirect.jsx","components/Dialogs/Dialogs-container.jsx"],"names":["module","exports","DialogItem","id","name","className","css","dialog","active","to","Message","mes","message","Dialogs","props","dialogState","dialogData","newMessage","messagesData","map","item","key","newDialog","minLength2","minLength","maxLength15","maxLength","DialogsReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","validate","required","component","Textarea","ref","comentRef","placeholder","dialogs","messages","data","console","log","addMessActionCreator","mapStateToPropsForRedirect","state","isAuth","auth","isAuthed","setDispatch","compose","connect","dialogPage","Component","RedirectComponent","this","React"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,OAAS,wBAAwB,QAAU,2B,oBCAjID,EAAOC,QAAU,CAAC,QAAU,4BAA4B,OAAS,2BAA2B,OAAS,6B,oBCArGD,EAAOC,QAAU,CAAC,QAAU,2B,wGCYbC,EATI,SAAC,GAAa,IAAZC,EAAW,EAAXA,GAAGC,EAAQ,EAARA,KACpB,OACI,yBAAKC,UAAS,UAAKC,IAAIC,OAAT,aAAoBD,IAAIE,SAClC,kBAAC,IAAD,CAASC,GAAE,mBAAcN,IAAOC,K,kBCM7BM,EARC,SAAC,GAAU,IAATC,EAAQ,EAARA,IACd,OACI,yBAAKN,UAAWC,IAAIM,SACfD,I,iCCoDEE,EApDC,SAACC,GAAW,IAAD,EACYA,EAAMC,YAAnCC,EADiB,EACjBA,WAEFC,EAHmB,EACLC,aAEYC,KAAI,SAACC,GAAD,OAClC,kBAAC,EAAD,CAAST,IAAKS,EAAKT,IAAKU,IAAKD,EAAKjB,QAE9BmB,EAAYN,EAAWG,KAAI,SAACC,GAAD,OAC/B,kBAAC,EAAD,CAAYhB,KAAMgB,EAAKhB,KAAMD,GAAIiB,EAAKjB,GAAIkB,IAAKD,EAAKjB,QAGhDoB,EAAaC,YAAU,GACvBC,EAAcC,YAAU,IAoBxBC,EAAmBC,YAAU,CAEjCC,KAAM,WAFiBD,EAlBL,SAACd,GAAW,IACtBgB,EAAiBhB,EAAjBgB,aACR,OACE,0BAAOC,SAAUD,GACf,kBAACE,EAAA,EAAD,CACA3B,UAAU,0BACR4B,SAAU,CAACC,IAAUX,EAAWE,GAChCrB,KAAM,UACN+B,UAAWC,IACXC,IAAKvB,EAAMwB,UACXC,YAAY,gBAGd,4BAAQlC,UAAS,mBAAjB,mBAeN,OACE,yBAAKA,UAAS,YACZ,yBAAKA,UAAS,gBAAWC,IAAIkC,UAAYlB,GAEzC,yBAAKjB,UAAW,SACd,yBAAKA,UAAWC,IAAImC,UAAWxB,GAC/B,kBAACU,EAAD,CAAkBI,SAXF,SAACW,GACrBC,QAAQC,IAAIF,EAAKF,SACjB1B,EAAM+B,qBAAqBH,EAAKF,e,yDC1ChCM,EAA6B,SAACC,GAAD,MAAY,CAC1CC,OAAQD,EAAME,KAAKC,W,QCUlBC,EAAc,CAChBN,0BAKaO,sBACXC,aAbkB,SAACN,GACrB,MAAO,CACLhC,YAAagC,EAAMO,cAWKH,IDdI,SAACI,GAAc,IACtCC,EADqC,uKAIrC,OAAIC,KAAK3C,MAAMkC,OACR,kBAACO,EAAcE,KAAK3C,OADG,kBAAC,IAAD,CAAUL,GAAG,eAJN,GACXiD,IAAMH,WAStC,OAAOF,YAAQP,EAARO,CAAoCG,KCG/BJ,CAGXvC","file":"static/js/5.a1fa439f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__h_OTx\",\"dialog\":\"Dialogs_dialog__2Nl0a\",\"active\":\"Dialogs_active__f_K6T\",\"message\":\"Dialogs_message__38bUW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogItem_dialogs__1perE\",\"dialog\":\"DialogItem_dialog__2Ubvu\",\"active\":\"DialogItem_active__ronpt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3l4WM\"};","import React from 'react';\r\nimport css from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = ({id,name})=>{\r\n    return(\r\n        <div className={`${css.dialog}  ${css.active}`}>\r\n            <NavLink to={`/dialogs/${id}`}>{name}</NavLink>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport css from './Message.module.css'\r\n\r\n\r\n\r\nconst Message = ({mes}) =>{\r\n    return(\r\n        <div className={css.message}>\r\n            {mes}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Message;","import React from \"react\";\r\nimport css from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { required, minLength, maxLength } from \"../../utils/validators/validators\";\r\nimport { Textarea } from \"../common/FormControls/FormsControls\";\r\n\r\nconst Dialogs = (props) => {\r\n  const { dialogData, messagesData } = props.dialogState;\r\n\r\n  const newMessage = messagesData.map((item) => (\r\n    <Message mes={item.mes} key={item.id} />\r\n  ));\r\n  const newDialog = dialogData.map((item) => (\r\n    <DialogItem name={item.name} id={item.id} key={item.id} />\r\n  ));\r\n\r\n  const minLength2 = minLength(2);\r\n  const maxLength15 = maxLength(15);\r\n\r\n  const DialogsForm = (props) => {\r\n    const { handleSubmit } = props;\r\n    return (\r\n      <form  onSubmit={handleSubmit}>\r\n        <Field\r\n        className=\"form-control form-group\"\r\n          validate={[required, minLength2,maxLength15]}\r\n          name={\"dialogs\"}\r\n          component={Textarea}\r\n          ref={props.comentRef}\r\n          placeholder=\"add massage\"\r\n          \r\n        />\r\n        <button className={`btn btn-primary`}>Add comment</button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const DialogsReduxForm = reduxForm({\r\n    // a unique identifier for this form\r\n    form: \"dialogs\",\r\n  })(DialogsForm);\r\n\r\n  const submitDialogs = (data) => {\r\n    console.log(data.dialogs);\r\n    props.addMessActionCreator(data.dialogs);\r\n  };\r\n\r\n  return (\r\n    <div className={` d-flex `}>\r\n      <div className={`col-4 ${css.dialogs}`}>{newDialog}</div>\r\n\r\n      <div className={\"col-8\"}>\r\n        <div className={css.messages}>{newMessage}</div>\r\n        <DialogsReduxForm onSubmit={submitDialogs} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dialogs;\r\n","import React from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuthed,\r\n });\r\n\r\nexport const withAuthRedirect = (Component) =>{\r\n   class RedirectComponent extends React.Component{\r\n     \r\n      render (){\r\n         if(!this.props.isAuth) return <Redirect to='/login'/>\r\n         return <Component {...this.props}/>\r\n      }\r\n   }  \r\n   \r\n  \r\n   return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","\r\nimport Dialogs from \"./Dialogs\";\r\nimport {\r\n  addMessActionCreator\r\n} from \"../../redux/dialogs-reducer\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogState: state.dialogPage\r\n  };\r\n};\r\n\r\nlet setDispatch = {\r\n  addMessActionCreator\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,setDispatch),\r\n    withAuthRedirect\r\n  )(Dialogs)\r\n    "],"sourceRoot":""}